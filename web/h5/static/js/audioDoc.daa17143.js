(window.webpackJsonp=window.webpackJsonp||[]).push([["audioDoc"],{"32e6":function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof t&&(o=t,t={}),t=t||{},o=o||function(){},i.type=t.type||"text/javascript",i.charset=t.charset||"utf8",i.async=!("async"in t)||!!t.async,i.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(i,t.attrs),t.text&&(i.text=""+t.text),("onload"in i?n:r)(i,o),i.onload||n(i,o),a.appendChild(i)}},af59:function(e,t,n){"use strict";n.r(t),n("8e6e"),n("ac6a"),n("456d"),n("e7e5");var r=n("d399"),o=(n("96cf"),n("3b8d")),a=n("bd86"),i=n("32e6"),s=n.n(i),c=n("2f62");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={data:function(){return{isEncryptionPlus:!1}},computed:d(d({},Object(c.e)(["cloudSdkCdn"])),Object(c.e)("course",{sourceType:function(e){return e.sourceType},selectedPlanId:function(e){return e.selectedPlanId},taskId:function(e){return e.taskId},details:function(e){return e.details},joinStatus:function(e){return e.joinStatus},user:function(e){return e.user}})),created:function(){this.initPlayer()},methods:d(d({},Object(c.c)(["setCloudAddress"])),{},{getParams:function(){return this.joinStatus?{query:{courseId:this.selectedPlanId,taskId:this.taskId}}:{query:{courseId:this.selectedPlanId,taskId:this.taskId},params:{preview:1}}},initPlayer:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.audio&&(e.$refs.audio.innerHTML=""),n=e.$route.query,e.isEncryptionPlus=n.isEncryptionPlus,!n.isEncryptionPlus){t.next=6;break}return Object(r.a)("该浏览器不支持云视频播放，请下载App"),t.abrupt("return");case 6:o={id:"course-detail__audio--content",user:e.user,playlist:n.playlist,template:n.text,autoplay:!0,simpleMode:!0},e.$store.commit("UPDATE_LOADING_STATUS",!0),e.loadPlayerSDK().then((function(t){e.$store.commit("UPDATE_LOADING_STATUS",!1);var n=new t(o);n.on("ready",(function(){})),n.on("datapicker.start",(function(e){})),n.on("ended",(function(){})),n.on("timeupdate",(function(e){}))}));case 9:case"end":return t.stop()}}),t)})))()},loadPlayerSDK:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.AudioPlayerSDK){t.next=6;break}if(e.cloudSdkCdn){t.next=4;break}return t.next=4,e.setCloudAddress();case 4:return n="//".concat(e.cloudSdkCdn,"/js-sdk/audio-player/sdk-v1.js?v=")+Date.now()/1e3/60,t.abrupt("return",new Promise((function(e,t){s()(n,(function(n){n&&t(n),e(window.AudioPlayerSDK)}))})));case 6:return t.abrupt("return",Promise.resolve(window.AudioPlayerSDK));case 7:case"end":return t.stop()}}),t)})))()}})},f=n("0c7c"),p=Object(f.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"course-detail__audio"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!this.isEncryptionPlus,expression:"!isEncryptionPlus"}],ref:"audio",staticClass:"course-detail__audio--content",attrs:{id:"course-detail__audio--content"}})])}),[],!1,null,null,null);t.default=p.exports}}]);