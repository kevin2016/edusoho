(window.webpackJsonp=window.webpackJsonp||[]).push([["wxpay"],{e2cf:function(t,e,a){"use strict";a.r(e),a("8e6e"),a("ac6a"),a("456d"),a("e7e5");var n=a("d399"),r=a("bd86"),i=a("3ce7"),c=a("2f62");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var o={data:function(){return{detail:{}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(r.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(c.e)(["wechatSwitch","isLoading"])),mounted:function(){var t=this.$route.query,e=t.pay_amount,a=t.title,n=t.sn,r=t.openid,i=t.targetType,c=t.targetId,s=t.payWay;this.detail={pay_amount:e,title:a,sn:n,openid:r,targetType:i,targetId:c,payWay:s}},methods:{handlePay:function(){var t=window.location.origin+window.location.pathname+"#/pay_center?targetType=".concat(this.detail.targetType,"&targetId=").concat(this.detail.targetId,"&payWay=").concat(this.detail.payWay);i.a.createTrade({data:{gateway:"WechatPay_JsH5",type:"purchase",orderSn:this.detail.sn,openid:this.detail.openid,success_url:t}}).then((function(t){var e=t.isPaid,a=t.payUrl;e?window.location.href=a:WeixinJSBridge.invoke("getBrandWCPayRequest",t.platformCreatedResult,(function(e){"get_brand_wcpay_request:ok"==e.err_msg?location.href=t.paidSuccessUrlH5:"get_brand_wcpay_request:fail"==e.err_msg?alert("支付失败"):"get_brand_wcpay_request:cancel"==e.err_msg&&alert("支付已失败")}))})).catch((function(t){n.a.fail(t.message)}))}}},d=a("0c7c"),p=Object(d.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payPage"},[t.isLoading?a("e-loading"):t._e(),a("div",{staticClass:"payPage__order"},[a("div",{staticClass:"order__head"},[t._v("\n      "+t._s(t.detail.title)+"\n    ")]),a("div",{staticClass:"order__infomation"},[a("div",{staticClass:"sum"},[a("span",[t._v("待支付")]),a("span",{staticClass:"sum__price"},[t._v("¥ "),a("span",{staticClass:"num"},[t._v(t._s(t._f("toMoney")(t.detail.pay_amount)))])])])])]),a("div",{staticClass:"payPage__payBtn",on:{click:t.handlePay}},[t._v("\n    立即支付\n  ")])],1)}),[],!1,null,null,null);e.default=p.exports}}]);